<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Th∆∞ Cho Em</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Indie+Flower&display=swap" rel="stylesheet">
  <style>
    /* Global box-sizing for consistent layout */
    html {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    *,
    *::before,
    *::after {
      box-sizing: inherit;
    }

    :root {
      --vintage-paper: #fdf6e3;
      --vintage-text: #4b3e2e;
      --vintage-accent: #a47149;
      --vintage-dark: #6e4e37;
      --shadow-light: rgba(0, 0, 0, 0.1);
      --shadow-dark: rgba(0, 0, 0, 0.2);
      /* M√†u s·∫Øc cho ghi ch√∫ d·ªÖ th∆∞∆°ng */
      --cute-pink: #f7cac9;
      --cute-green: #d4f8e8;
      --cute-blue: #c9e9f7;
      --cute-border: #f7b2bd;
      --cute-text: #6e4e37;
    }

    body {
      /* Font ch·ªØ ch√≠nh cho body l√† Indie Flower (vi·∫øt tay, d·ªÖ ƒë·ªçc) */
      font-family: 'Indie Flower', cursive;
      margin: 0;
      padding: 0;
      background: var(--vintage-paper);
      color: var(--vintage-text);
      position: relative;
      overflow-x: hidden;
      background-attachment: fixed;
      background-image: url('https://png.pngtree.com/background/20210715/original/pngtree-literary-and-artistic-small-fresh-antique-ink-smudge-cherry-letterhead-original-picture-image_1298684.jpg');
      background-size: cover;
      background-position: center;
    }

    header {
      background: var(--vintage-dark);
      color: white;
      text-align: center;
      padding: 2rem 1rem;
      box-shadow: 0 4px 8px var(--shadow-dark);
      position: sticky;
      top: 0;
      z-index: 1000;
      font-family: 'Playfair Display', serif;
      border-bottom: 2px solid var(--vintage-accent);
    }

    header h1 {
      margin: 0;
      font-size: 3rem;
      letter-spacing: 2px;
      text-shadow: 2px 2px 5px var(--shadow-dark);
      position: relative;
      display: inline-block;
    }

    header h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background-color: var(--vintage-accent);
      border-radius: 5px;
    }

    /* CSS cho Khung ƒëƒ©a nh·∫°c xoay */
    .music-player-widget {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 0.8rem 1.5rem;
      margin: 20px auto;
      max-width: 450px;
      border-radius: 10px;
      box-shadow: 0 5px 15px var(--shadow-light);
      border: 1px solid var(--vintage-accent);
    }

    .vinyl-disc {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.1),
                  inset 0 0 0 2px var(--vintage-dark);
      animation: spin 10s linear infinite;
      flex-shrink: 0;
    }

    .vinyl-disc img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: 50%;
      opacity: 1;
      transform: none;
      margin: 0;
      box-shadow: none;
      border: none;
      padding: 0;
      background-color: transparent;
    }

    .vinyl-hole {
      width: 16px;
      height: 16px;
      background-color: var(--vintage-dark);
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid white;
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);
    }

    .song-info {
      font-family: 'Playfair Display', serif;
      color: var(--vintage-dark);
      text-align: left;
      flex-grow: 1;
      min-width: 0;
    }

    .song-info h3 {
      margin: 0;
      font-size: 1.3rem;
      color: var(--vintage-accent);
      text-shadow: 1px 1px 2px var(--shadow-light);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .song-info p {
      margin: 0.3rem 0 0 0;
      font-size: 0.9rem;
      color: var(--vintage-text);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    main {
      max-width: 850px;
      margin: 40px auto;
      padding: 2rem 1rem;
      line-height: 1.8;
      position: relative;
      z-index: 1;
      background: var(--vintage-paper);
      border: 1px solid #d4c09d;
      box-shadow: 0 10px 20px var(--shadow-dark);
      border-radius: 5px;
      padding-bottom: 12rem;
    }

    main::before,
    main::after {
      content: '';
      position: absolute;
      width: 50px;
      height: 50px;
      background-color: var(--vintage-text);
      clip-path: polygon(0 0, 100% 0, 0 100%);
      opacity: 0.05;
      z-index: 0;
    }

    main::before {
      top: 0;
      left: 0;
      transform: rotate(180deg);
    }

    main::after {
      bottom: 0;
      right: 0;
    }

    /* ƒêi·ªÅu ch·ªânh CSS cho th·∫ª img chung (·∫£nh ngo√†i carousel) */
    img {
      width: 100%;
      height: auto; /* Chi·ªÅu cao t·ª± ƒë·ªông theo t·ª∑ l·ªá */
      object-fit: contain; /* ƒê·∫£m b·∫£o to√†n b·ªô ·∫£nh hi·ªÉn th·ªã, c√≥ th·ªÉ c√≥ kho·∫£ng tr·∫Øng */
      border-radius: 5px;
      box-shadow: 0 4px 12px var(--shadow-light);
      transition: transform 0.4s ease, opacity 0.6s ease;
      opacity: 0; /* M·∫∑c ƒë·ªãnh ·∫©n ƒë·ªÉ d√πng hi·ªáu ·ª©ng reveal */
      transform: translateY(40px);
      margin: 2rem 0;
      border: 3px solid var(--vintage-accent);
      padding: 5px;
      background-color: white;
    }

    img.visible {
      opacity: 1;
      transform: translateY(0);
    }

    section {
      margin-bottom: 3rem;
      padding: 1.5rem;
      border: 1px dashed var(--vintage-accent);
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 5px;
      position: relative;
      z-index: 1;
    }

    section:not(:last-child) {
        margin-top: 2.5rem;
      margin-bottom: 4rem;
    }

    section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      color: var(--vintage-dark);
      text-align: center;
      margin-bottom: 1.5rem;
      position: relative;
      padding-bottom: 10px;
    }

    section h2::before,
    section h2::after {
      content: '';
      position: absolute;
      font-size: 1.2rem;
      color: var(--vintage-accent);
      top: 50%;
      transform: translateY(-50%);
    }

    section h2::before {
      left: 0;
    }

    section h2::after {
      right: 0;
    }

    section p {
      font-size: 1.2rem;
      line-height: 1.8;
      text-align: justify;
      hyphens: auto;
    }

    button {
      background-color: var(--vintage-accent);
      color: white;
      border: none;
      padding: 1rem 2.2rem;
      border-radius: 30px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      font-family: 'Playfair Display', serif;
      box-shadow: 0 4px 8px var(--shadow-light);
      letter-spacing: 0.5px;
    }

    button:hover {
      background-color: var(--vintage-dark);
      transform: translateY(-3px);
      box-shadow: 0 6px 12px var(--shadow-dark);
    }

    .stamp {
      position: absolute;
      width: 80px;
      height: 80px;
      background-image: url('https://media.istockphoto.com/id/1214700549/vi/vec-to/m√®o-in-ch√¢n-ch√≥-d·∫•u-v·∫øt-th√∫-c∆∞ng-ch√≥-con-phong-c√°ch-ph·∫≥ng-vect∆°-ch·ª©ng-kho√°n.jpg?s=612x612&w=0&k=20&c=ibZl34XsVAzbZwuxlET-Jhzy8sF_ay0n20ZXEzPslcU=');
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.1;
      transform: rotate(15deg);
      pointer-events: none;
      z-index: 2;
    }

    .stamp-top-right {
      top: 10px;
      right: 10px;
    }

    .stamp-bottom-left {
      bottom: 10px;
      left: 10px;
      transform: rotate(-25deg);
    }

    section h2 span,
    section p span {
      display: block;
    }

    section.in-view h2 span {
      animation: reveal-text-clip 1s ease-in-out forwards 0.2s;
    }

    section.in-view p span {
      animation: reveal-text-clip 1.5s ease-in-out forwards 0.4s;
    }

    @keyframes reveal-text-clip {
      from {
        clip-path: inset(0 100% 0 0);
      }
      to {
        clip-path: inset(0 0% 0 0);
      }
    }

    /* --- CSS cho Carousel ·∫£nh --- */
    .image-carousel-section {
      overflow: hidden;
      padding: 1.5rem;
      border: 1px dashed var(--vintage-accent);
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 5px;
      position: relative;
      z-index: 1;
    }

    .image-carousel {
      width: 100%;
      margin: 4rem auto 1rem auto;
      position: relative;
      overflow: hidden;
      border: 5px solid var(--vintage-dark);
      border-radius: 10px;
      box-shadow: 0 8px 16px var(--shadow-dark);
      background-color: var(--vintage-paper);
      padding: 10px; /* Padding chung cho khung carousel */
      cursor: grab;
      display: flex;
      align-items: flex-start;
      transition: height 0.3s ease-in-out;
    }

    .carousel-inner {
      /* THAY ƒê·ªîI: Lo·∫°i b·ªè position: absolute v√† top/left/right/bottom */
      position: relative; /* Quan tr·ªçng: Gi·ªØ relative ƒë·ªÉ flexbox ho·∫°t ƒë·ªông ƒë√∫ng */
      width: 100%; /* ƒê·∫£m b·∫£o chi·∫øm to√†n b·ªô chi·ªÅu r·ªông c·ªßa .image-carousel - padding */
      height: 100%; /* Quan tr·ªçng: ƒê·∫£m b·∫£o chi·∫øm to√†n b·ªô chi·ªÅu cao c·ªßa .image-carousel - padding */
      display: flex;
      will-change: transform;
      transition: transform 0.5s ease-in-out;
      /* min-width: 100% c·ªßa carousel-item s·∫Ω t·ª± ho·∫°t ƒë·ªông v·ªõi flexbox */
    }

    .carousel-item {
      min-width: 100%; /* Gi·ªØ nguy√™n, m·ªói item chi·∫øm 100% chi·ªÅu r·ªông c·ªßa carousel-inner */
      flex-shrink: 0;
      position: relative;
      height: 100%; /* Quan tr·ªçng: ƒê·∫£m b·∫£o item chi·∫øm to√†n b·ªô chi·ªÅu cao c·ªßa carousel-inner */
      display: flex;
      justify-content: center;
      align-items: center; /* Quan tr·ªçng: cƒÉn gi·ªØa ·∫£nh theo chi·ªÅu d·ªçc */
      overflow: hidden;
      background-color: transparent;
    }

    /* ƒê√£ gi·ªØ nguy√™n nh∆∞ b·∫£n s·ª≠a ƒë·ªïi cu·ªëi c√πng - .carousel-item img */
    .carousel-item img {
      width: 100%; /* Bu·ªôc ·∫£nh l·∫•p ƒë·∫ßy chi·ªÅu r·ªông c·ªßa carousel-item */
      height: 100%; /* Bu·ªôc ·∫£nh l·∫•p ƒë·∫ßy chi·ªÅu cao c·ªßa carousel-item */
      object-fit: contain; /* ƒê·∫£m b·∫£o to√†n b·ªô ·∫£nh hi·ªÉn th·ªã, c√≥ th·ªÉ c√≥ kho·∫£ng tr·∫Øng */
      display: block;
      border: 3px solid var(--vintage-accent);
      padding: 5px;
      background-color: white;
      margin: 0;
      opacity: 1;
      transform: none;
      box-shadow: 0 2px 8px var(--shadow-light);
    }

    /* CSS CHO C√ÅC D·∫§U CH·∫§M */
    .carousel-indicators {
      display: flex;
      justify-content: center;
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .indicator-dot {
      width: 10px;
      height: 10px;
      background-color: var(--vintage-accent);
      border-radius: 50%;
      margin: 0 5px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      opacity: 0.5;
    }

    .indicator-dot.active {
      background-color: var(--vintage-dark);
      opacity: 1;
      transform: scale(1.2);
    }

    /* L·ªõp ph·ªß h∆∞·ªõng d·∫´n */
    .carousel-fade {
        position: absolute;
        top: 0;
        width: 80px;
        pointer-events: none;
        z-index: 11;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
        display: flex;
        align-items: center;
        justify-content: center;
        height: auto; /* S·∫Ω ƒë∆∞·ª£c JS ƒëi·ªÅu ch·ªânh */
    }

    .carousel-fade.active {
        opacity: 1;
    }

    .carousel-fade.left {
        left: 0;
        background: linear-gradient(to right, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0));
    }

    .carousel-fade.right {
        right: 0;
        background: linear-gradient(to left, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0));
    }

    /* T·∫°o 3 m≈©i t√™n nh·ªè */
    .carousel-fade::before,
    .carousel-fade::after {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border-style: solid;
        top: 50%;
        transform: translateY(-50%);
        opacity: 0;
        animation-timing-function: ease-out;
    }

    /* M≈©i t√™n b√™n tr√°i */
    .carousel-fade.left::before {
        border-width: 10px 10px 10px 0;
        border-color: transparent var(--vintage-dark) transparent transparent;
        right: 15px;
        animation: slideInLeft 1.5s infinite;
    }

    .carousel-fade.left::after {
        border-width: 10px 10px 10px 0;
        border-color: transparent var(--vintage-dark) transparent transparent;
        right: 30px;
        animation: slideInLeft 1.5s infinite 0.3s;
    }

    /* M≈©i t√™n b√™n ph·∫£i */
    .carousel-fade.right::before {
        border-width: 10px 0 10px 10px;
        border-color: transparent transparent transparent var(--vintage-dark);
        left: 15px;
        animation: slideInRight 1.5s infinite;
    }

    .carousel-fade.right::after {
        border-width: 10px 0 10px 10px;
        border-color: transparent transparent transparent var(--vintage-dark);
        left: 30px;
        animation: slideInRight 1.5s infinite 0.3s;
    }

    /* Keyframes cho hi·ªáu ·ª©ng m≈©i t√™n */
    @keyframes slideInLeft {
        0% { opacity: 0; transform: translateY(-50%) translateX(20px); }
        50% { opacity: 0.8; transform: translateY(-50%) translateX(0); }
        100% { opacity: 0; transform: translateY(-50%) translateX(-20px); }
    }

    @keyframes slideInRight {
        0% { opacity: 0; transform: translateY(-50%) translateX(-20px); }
        50% { opacity: 0.8; transform: translateY(-50%) translateX(0); }
        100% { opacity: 0; transform: translateY(-50%) translateX(20px); }
    }

    /* ·∫®n m≈©i t√™n v√† l·ªõp ph·ªß n·∫øu ch·ªâ c√≥ 1 ·∫£nh */
    .image-carousel-section:has(.carousel-item:only-child) .carousel-fade,
    .image-carousel-section:has(.carousel-item:only-child) .carousel-indicators {
        display: none;
    }


    /* CSS cho Animated Sticker */
    .animated-sticker {
      width: 80px;
      height: 80px;
      margin: 1rem auto;
      display: block;
    }

    /* CSS cho Video Section */
    .video-section {
      text-align: center;
      padding: 2rem 1.5rem;
      margin-top: 4rem;
      border: 1px dashed var(--vintage-accent);
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 5px;
      overflow: hidden;
    }

    .video-container {
      position: relative;
      width: 100%;
      margin: 2rem auto;
      border: 5px solid var(--vintage-dark);
      border-radius: 10px;
      box-shadow: 0 8px 16px var(--shadow-dark);
      overflow: visible;
    }

    .video-container video {
      display: block;
      width: 100%;
      height: auto;
      object-fit: contain;
      pointer-events: none;
      border-radius: 5px;
    }

    /* CSS cho Ch·ªØ k√Ω */
    .signature-block {
      position: absolute;
      bottom: 8rem;
      right: 2rem;
      text-align: right;
      /* Font ch·ªØ vi·∫øt tay cho ch·ªØ k√Ω */
      font-family: 'Indie Flower', cursive;
      font-size: 1.5rem;
      color: var(--vintage-dark);
      line-height: 1.2;
      z-index: 2;
      white-space: nowrap;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .signature-block.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .signature-block p {
      margin: 0;
    }

    .signature-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--vintage-accent);
      text-shadow: 1px 1px 2px var(--shadow-light);
    }

    /* CSS M·ªöI cho ph·∫ßn Ghi ch√∫ */
    .notes-section-cute {
      max-width: 300px;
      margin: 4rem auto 2rem auto;
      padding: 1.5rem;
      background-color: var(--cute-pink);
      border: 3px solid var(--cute-border);
      border-radius: 15px 50px 15px 50px / 50px 15px 50px 15px;
      box-shadow: 5px 5px 15px var(--shadow-dark);
      text-align: center;
      /* Font ch·ªØ vi·∫øt tay cho ph·∫ßn ghi ch√∫ */
      font-family: 'Indie Flower', cursive;
      color: var(--cute-text);
      line-height: 1.5;
      font-size: 1.1rem;
      position: relative;
      z-index: 1;
      opacity: 0;
      transform: scale(0.9) translateY(30px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .notes-section-cute.visible {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    .notes-section-cute h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: var(--vintage-dark);
      margin-top: 0;
      margin-bottom: 1rem;
      position: relative;
    }

    .notes-section-cute h3::after {
      content: '‚ô°';
      color: var(--cute-border);
      position: absolute;
      right: -15px;
      bottom: -5px;
      font-size: 1.2rem;
    }

    .notes-section-cute p {
      margin-bottom: 0.8rem;
      text-align: center;
    }

    .notes-section-cute p:last-child {
      margin-bottom: 0;
    }

    /* --- ƒêi·ªÅu ch·ªânh Responsive cho m√†n h√¨nh nh·ªè h∆°n 600px (Mobile) --- */
    @media (max-width: 600px) {
      header h1 {
        font-size: 2.2rem;
      }

      /* ƒêi·ªÅu ch·ªânh Responsive cho Khung ƒëƒ©a nh·∫°c */
      .music-player-widget {
        flex-direction: column; /* X·∫øp ƒëƒ©a v√† th√¥ng tin theo c·ªôt tr√™n di ƒë·ªông */
        gap: 0.8rem; /* Gi·∫£m kho·∫£ng c√°ch */
        padding: 0.8rem;
        max-width: 90%;
      }

      .vinyl-disc {
        width: 70px; /* Thu nh·ªè h∆°n n·ªØa tr√™n di ƒë·ªông */
        height: 70px; /* Thu nh·ªè h∆°n n·ªØa tr√™n di ƒë·ªông */
      }

      .vinyl-hole {
        width: 14px;
        height: 14px;
      }

      .song-info {
        text-align: center; /* CƒÉn gi·ªØa th√¥ng tin khi x·∫øp c·ªôt */
      }

      .song-info h3 {
        font-size: 1.2rem; /* Thu nh·ªè font ti√™u ƒë·ªÅ */
      }

      .song-info p {
        font-size: 0.85rem; /* Thu nh·ªè font n·ªôi dung */
      }

      main {
        margin: 20px auto;
        padding: 1rem;
        padding-bottom: 10rem;
      }

      section {
        padding: 1rem;
      }

      section h2 {
        font-size: 1.8rem;
      }

      section p {
        font-size: 1rem;
      }

      button {
        padding: 0.8rem 1.5rem;
        font-size: 1rem;
      }

      /* ·∫¢nh trong carousel tr√™n mobile v·∫´n theo nguy√™n t·∫Øc ƒë·ªông, kh√¥ng c·∫ßn media query ri√™ng cho .image-carousel */

      .carousel-item img {
        border: 2px solid var(--vintage-accent); /* Gi·∫£m border */
        padding: 2px; /* Gi·∫£m padding ·∫£nh */
      }

      .carousel-fade {
        width: 30px;
      }

      .video-section {
        padding: 1rem;
        margin-top: 3rem;
      }

      .signature-block {
        right: 1rem;
        font-size: 1.2rem;
        bottom: 6rem;
      }

      .signature-name {
        font-size: 1.5rem;
      }

      .notes-section-cute {
        max-width: calc(100% - 2rem);
        padding: 1rem;
        font-size: 1rem;
        margin: 2rem auto 1rem auto;
        border-radius: 10px 30px 10px 30px / 30px 10px 30px 10px;
      }

      .notes-section-cute h3 {
        font-size: 1.3rem;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1><span id="typewriter-text"></span></h1>
  </header>

  <div class="music-player-widget">
    <div class="vinyl-disc">
      <img src="https://avatar-ex-swe.nixcdn.com/song/2025/02/21/E/M/I/X/1740151379142_640.jpg" alt="ƒêƒ©a nh·∫°c">
      <div class="vinyl-hole"></div>
    </div>
    <div class="song-info">
      <h3>Ph√©p m√†u</h3>
      <p>ƒê·ª´ng qu√™n b·∫≠t nh·∫°c nh√°a</p>
    </div>
  </div>

  <main>
    <div class="stamp stamp-top-right"></div>
    <div class="stamp stamp-bottom-left"></div>

    <section>
      <h2><span>G·ª≠i b√© iu c·ªßa anh</span></h2>
      <p><span>Nh√¢n d·ªãp sinh nh·∫≠t n√†y, anh mu·ªën t·∫∑ng em m·ªôt m√≥n qu√† ƒë·ªôc nh·∫•t tr√™n th·∫ø gi·ªõii cho ng∆∞·ªùi ƒë√°ng iu nh·∫•t th·∫ø gi·ªõii.
         ƒê√¢y l√† l·∫ßn ƒë·∫ßu ti√™n ch√∫ng ta ƒë√≥n sinh nh·∫≠t c√πng nhau n√™n anh mu·ªën t·∫°o m·ªôt b·∫•t ng·ªù cho em, d√π c√≥ h∆°i x·∫•u nh∆∞ng m√† em h√£y hoan h·ªâ nh√© hihi :3 
        </span></p>
      <img src="./VidAndImg/em3.jpg" alt="S√°ng vintage" />
    </section>

    <section>
     <h2><span>ƒê√¥i l·ªùi c·ªßa anh</span></h2>
      <p><span>
        Hi b√© iu, v·∫≠y l√† ƒë√£ ƒë∆∞·ª£c n·ª≠a nƒÉm ch√≠nh th·ª©c ch√∫ng ta ·ªü b√™n nhau. 
        Anh c·∫£m ∆°n em v√¨ su·ªët kho·∫£ng th·ªùi gian qua ƒë√£ lu√¥n ·ªü b√™n c·∫°nh anh.
        T·ª´ l√∫c h·ªçc ·ªü qu√¢n s·ª± anh ƒë√£ c·ªë g·∫Øng r·∫•t nhi·ªÅu ƒë·ªÉ c√≥ th·ªÉ h·∫πn h√≤ v·ªõi em hihi :3.
        M·∫∑c d√π c√≥ v√†i s·ª± gi√∫p ƒë·ª° nh∆∞ng m√† c≈©ng do anh th√≠ch em nh√¨u m√≤ ph·∫£i hongg.
        L√∫c em kh√¥ng rep n·ªØa, anh c·ªØ ng·ª° m√¨nh ƒë√£ h·∫øt c∆° h·ªôi r√≤i, nh∆∞ng nh·ªù s·ª± m·∫∑t d√†y c·ªßa anh n√™n m·ªõi c√≥ c∆° h·ªôi ƒë∆∞·ª£c g·∫∑p em n√®e.
        Sau ƒë√≥ bu·ªïi h·∫πn ƒë·∫ßu theo anh nh·ªõ l√† ·ªü qu√°n Anchor, 2 ƒë·ª©a c·ª© ng·ªìi n√≥i ƒë∆∞·ª£c ch√∫t r·ªìi im l·∫∑ng qu√†i √†, anh c√≤n nh·ªõ h√¥m ƒë√≥ anh c√≤n m·∫∑c ƒë·ªì r·∫•t x·∫•u n·ªØa =))).
      </span> 
      <span>
        R·ªìi c·ª© th·∫ø d·∫ßn d·∫ßn th√¨ ƒë∆∞·ª£c m·ªôt th√°ng, anh nghƒ© ƒë√£ ƒë·∫øn l√∫c t·ªè t√¨nh r√≤i.
        L√∫c ƒë√≥ em ch·∫£nh l·∫Øm nhenn üòè, em k√™u cho th√™m th·ªùi gian suy nghƒ© n√™n anh quy·∫øt ƒë·ªãnh l√πi l·∫°i hihi.
        L·∫ßn ƒë√≥ anh c≈©ng c√≥ h∆°i ovtk m·ªôt ch√∫t n√®, anh nghƒ© em ƒëang t√¨m hi·ªÉu m·ªëi kh√°c c∆° ƒë·∫•y :)))).
        Anh d·ª± ƒë·ªãnh s·∫Ω h·ªèi l·∫°i em v√†o 2 th√°ng sau ƒë√≥ cho tr√≤n 3 th√°ng, nh∆∞ng anh l·∫°i ng·∫≠p ng·ª´ng m√£i lunn.
        V√† r·ªìi cu·ªëi c√πng th√¨ ƒëi·ªÅu g√¨ ƒë·∫øn c≈©ng s·∫Ω ƒë·∫øn, anh ƒë√£ d·ªìn h·∫øt can ƒë·∫£m ƒë·ªÉ t·ªè t√¨nh em l·∫°i m·ªôt l·∫ßn n·ªØa.
        Th·ª±c s·ª± th√¨ l√∫c ƒë√≥ anh ƒë√£ nghƒ© m√¨nh s·∫Ω ƒë√°nh c∆∞·ª£c h·∫øt v√†o l·∫ßn n√†y v√¨ anh c≈©ng ƒë√£ c·ªë h·∫øt s·ª©c c·ªßa anh r·ªìi.
        Nh∆∞ng may m·∫Øn l√† em ƒë√£ ƒë·ªìng √Ω cho anh ch√≠nh th·ª©c ƒë∆∞·ª£c b∆∞·ªõc ch√¢n v√†o cu·ªôc s·ªëng c·ªßa em.
        Th·ªùi gian ƒë·∫ßu th√¨ c√≥ v·∫ª v·∫´n ch∆∞a quen v·ªõi vi·ªác ƒë√≥ n√™n em c≈©ng kh√¥ng m·ªü l√≤ng nhi·ªÅu.
        Anh c≈©ng bu·ªìn nhi·ªÅu l·∫Øm nh∆∞ng sau anh m·ªõi hi·ªÉu.
        K·ªÉ t·ª´ ƒë√≥, l√∫c n√†o anh c≈©ng coi em l√† m·ªôt ph·∫ßn trong cu·ªôc s·ªëng th∆∞·ªùng nh·∫≠t c·ªßa anh.
        C√≥ em, cu·ªôc s·ªëng c·ªßa anh c√≥ v·∫ª kh·ªüi s·∫Øc h∆°n, anh b·ªõt ƒÉn ch∆°i, b·ªõt c·ªôc c·∫±n v√† c≈©ng h·ªçc ƒë∆∞·ª£c c√°ch ki√™n nh·∫´n h∆°n.
        Anh c≈©ng ƒë√£ th·ª≠ h·ªçc l√†m m·ªôt v√†i th·ª© handmade.
        D·∫´u l√† v·∫≠y nh∆∞ng anh c≈©ng ovtk m√† em th√¨ v√¥ t∆∞ n√™n anh c·ª© bu·ªìn nhi·ªÅu l·∫ßn nh∆∞ th·∫ø.
        Nh∆∞ng b·∫•t c·ª© gi√¢y ph√∫t, kho·∫£nh kh·∫Øc n√†o b√™n em anh ƒë·ªÅu r·∫•t tr√¢n qu√Ω.
        Anh tr√¢n qu√Ω c·∫£ nh·ªØng l√∫c em x√≥u, nh∆∞ l√† chuy·ªán ·ªü r·∫°p phim :)))).
        Nh·ªØng ƒëi·ªÅu ƒë√≥ s·∫Ω m√£i l√† m·ªôt ph·∫ßn trong nh·ªØng k·ªâ ni·ªám c·ªßa ch√∫ng ta m√† hehee üòÑ.
        Th·∫≠t ra l√∫c ƒë√≥ anh lo l·∫Øng d·ªØ l·∫Øm, anh s·ª£ em s·∫Ω x·∫£y chuy·ªán g√¨ kh√¥ng hay.
        Nh∆∞ng th·∫≠t may m·∫Øn l√† em ch·ªâ b·ªã ng·ªô ƒë·ªôc th·ª±c ph·∫©m thoii hihi.
      </span> 
      <span>
        Ch·∫∑ng ƒë∆∞·ªùng v·ª´a qua ƒë∆∞·ª£c ƒëi c√πng em anh c·∫£m th·∫•y r·∫•t h·∫°nh ph√∫c, anh nghƒ© ƒë√≥ l√† kho·∫£ng th·ªùi gian khi·∫øn anh thay ƒë·ªïi v√† tr∆∞·ªüng th√†nh nhi·ªÅu nh·∫•t.
        
        Anh xin l·ªói v√¨ trong kho·∫£ng th·ªùi gian v·ª´a qua anh ƒë√£ l√†m em bu·ªìn c≈©ng kh√° nhi·ªÅu l·∫ßn, nh∆∞ng mong em h√£y b·ªè qua cho anh nh√© v√¨ anh c≈©ng ƒëang h·ªçc c√°ch ph√°t tri·ªÉn ƒë·ªÉ hi·ªÉu em h∆°n.
        Anh bi·∫øt anh kh√¥ng tinh t·∫ø, ƒë·∫πp trai, t√†i gi·ªèi nh∆∞ ng∆∞·ªùi kh√°c v√† ƒë√¥i l√∫c c≈©ng c·ª•c s√∫c v√† n·∫∑ng l·ªùi v·ªõi em n·ªØa.
        Anh s·∫Ω c√≥ g·∫Øng ho√†n thi·ªán b·∫£n th√¢n h∆°n t·ª´ng ng√†y ƒë·ªÉ c√≥ th·ªÉ c√πng em ƒëi con ƒë∆∞·ªùng d√†i nh·∫•t c√≥ th·ªÉ.
        Anh tr√¢n tr·ªçng nh·ªØng gi√¢y ph√∫t b√™n nhau, em l√† c√¥ g√°i ƒë·∫ßu ti√™n v√† s·∫Ω m√£i l√† ng∆∞·ªùi anh y√™u nh·∫•t.
        N·∫øu c√≥ ƒëi·ªÅu g√¨ c·∫ßn anh thay ƒë·ªïi th√¨ em c·ª© n√≥i cho anh bi·∫øt nh√©, v√≠ d·ª• nh∆∞ anh b√≠n th√°i qu√°, ...v...v..üòú
        Ngo√†i ra anh c≈©ng mu·ªën nh·∫Øn nh·ªß em ph·∫£i bi·∫øt gi·ªØ s·ª©c kh·ªèe, ƒë·ª´ng th·ª©c khuya nh√¨u qu√° m√† h·∫°i s·ª©c kh·ªèe ƒë·∫•y nh√°, ra ƒë∆∞·ªùng nh·ªõ mang √°o ch·ªëng n·∫Øng, tr√πm k√≠n,
        v√† quan tr·ªçng l√† ph·∫£i y√™u anh nh√¨u h∆°n n·ªØa nhaaa üòò.
        Khi em bu·ªìn hay g·∫∑p chuy·ªán g√¨ th√¨ h√£y nh·ªõ cho anh bi·∫øt nh√©, anh s·∫Ω ·ªü b√™n c·∫°nh em b·∫•t c·ª© l√∫c n√†o em c·∫ßn.
        C·∫£m ∆°n em v√¨ ƒë√£ g√≥p ni·ªÅm vui v√† h·∫°nh ph√∫c kh√¥ng nh·ªè trong cu·ªôc s·ªëng c·ªßa anh.
      </span>
      <span>
        Anh mu·ªën trang web n√†y s·∫Ω l√† n∆°i l∆∞u gi·ªØ nh·ªØng k·ª∑ ni·ªám ƒë·∫πp c·ªßa ch√∫ng ta cho c·∫£ hi·ªán t·∫°i v√† sau n√†y, n·∫øu c√≥ g√≥p √Ω g√¨ c·ª© cho anh bi·∫øt nh√©.
        Iu em nh√¨u l√©m, b√© iu c·ªßa anhh üíñ
      </span>
    </p>
      <img src="./VidAndImg/em5.JPG" alt="Cafe vintage" />
    </section>

    <section class="image-carousel-section">
      <h2><span>Kho·∫£nh kh·∫Øc c√πng nhau n√®e</span></h2>
      <div class="image-carousel">
        <div class="carousel-inner">
          <div class="carousel-item">
            <img src="./VidAndImg/together4.JPG" alt="·∫¢nh Vintage 1">
          </div>
          <div class="carousel-item">
            <img src="./VidAndImg/together5.JPG" alt="·∫¢nh Vintage 2">
          </div>
          <div class="carousel-item">
            <img src="./VidAndImg/together6.JPG" alt="·∫¢nh Vintage 3">
          </div>
          <div class="carousel-item">
            <img src="./VidAndImg/Together1.JPG" alt="·∫¢nh Vintage 4">
          </div>
          <div class="carousel-item">
            <img src="./VidAndImg/together3.JPG" alt="·∫¢nh Vintage 5">
          </div>
        </div>
        <div class="carousel-fade left"></div>
        <div class="carousel-fade right"></div>
      </div>
      <div class="carousel-indicators">
        </div>
      <p style="text-align: center;"><span>Nh·ªØng b·ª©c ·∫£nh c≈© lu√¥n mang theo m·ªôt c√¢u chuy·ªán ri√™ng, m·ªôt ph·∫ßn c·ªßa d√≤ng th·ªùi gian ƒë√£ tr√¥i qua.</span></p>
    </section>



    <section class="video-section">
      <h2><span>Video photobooth n√¨a</span></h2>
      <div class="video-container">
        <video id="backgroundVideo" src="./VidAndImg/ptbVid1.MOV" loop muted playsinline preload="auto"></video>
      </div>

      <div class="video-container">
        <video id="secondVideo" src="./VidAndImg/ptbVid2.MP4" loop muted playsinline preload="auto"></video>
      </div>

      <p><span>L·∫ßn ƒë·∫ßu nh√¨n bu·ªìn c∆∞·ªùi nma l·∫ßn sau nh√¨n dth qu√° √†aaa üòÜ.</span></p>
    </section>


    <section class="video-section">
      <h2><span>M·ªôt video c·ªßa ng∆∞·ªùi ƒë√°ng iu nh·∫•t n√®!</span></h2>
      <div class="video-container">
        <video id="thirdVideo" src="./VidAndImg/video1.MOV" loop muted playsinline preload="auto"></video>
      </div>
      <p><span>B√© iu c·ªßa anh xinh qu√° √†aaaa üòç!</span></p>
    </section>

    <div class="signature-block">
      <p>Ch√∫c em sinh nh·∫≠t vui v·∫ª!</p>
      <p class="signature-name">Anh c√∫n üêæ</p>
      <p>Iu em üíù</p>
    </div>

    <div class="notes-section-cute">
      <h3>Ghi ch√∫ nh·ªè !</h3>
      <p>Ch·ªâ ai c√≥ t·∫•m th·∫ª m·ªõi v√†o ƒë∆∞·ª£c web n√†y thoiii hihi :3</p>
    </div>
  </main>

  <audio id="background-music" loop autoplay>
    <source src="./VidAndImg/Phep_mau.mp3" type="audio/mpeg">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t nh·∫°c.
  </audio>

  <script>
    const images = document.querySelectorAll('img');

    const imgObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          imgObserver.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.5
    });

    // Ch·ªâ quan s√°t ·∫£nh trong c√°c section kh√¥ng ph·∫£i carousel
    document.querySelectorAll('section:not(.image-carousel-section) img').forEach(img => imgObserver.observe(img));

    const sections = document.querySelectorAll('section');

    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
          sectionObserver.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.7
    });

    sections.forEach(section => sectionObserver.observe(section));

    // Script hi·ªáu ·ª©ng typewriter
    const textElement = document.getElementById('typewriter-text');
    const text = "üíå Th∆∞ cho em üíå";
    let i = 0;
    let typeWriterDelay = 100;

    function typeWriter() {
      if (i <= text.length) {
        textElement.textContent = text.substring(0, i);
        i++;
        setTimeout(typeWriter, typeWriterDelay);
      }
    }

    document.addEventListener('DOMContentLoaded', typeWriter);


    // Logic cho Carousel ·∫£nh
    const carousel = document.querySelector('.image-carousel');
    const carouselInner = document.querySelector('.carousel-inner');
    const carouselItems = document.querySelectorAll('.carousel-item');
    const totalItems = carouselItems.length;
    const carouselIndicatorsContainer = document.querySelector('.carousel-indicators');
    const carouselImgs = document.querySelectorAll('.carousel-item img');

    carouselInner.style.setProperty('--total-carousel-items', totalItems);

    const carouselFadeLeft = document.querySelector('.carousel-fade.left');
    const carouselFadeRight = document.querySelector('.carousel-fade.right');

    let currentIndex = 0;
    let autoSlideInterval = null;
    const slideDuration = 3000;
    let inactivityTimer = null;
    const indicatorFadeDelay = 5000;

    let isDragging = false;
    let startPos = 0;
    let currentTranslate = 0;
    let prevTranslate = 0;
    let animationId;

    // H√†m: T√≠nh to√°n v√† ƒëi·ªÅu ch·ªânh chi·ªÅu cao c·ªßa carousel t·ªïng th·ªÉ d·ª±a tr√™n ·∫£nh hi·ªán t·∫°i
    function adjustCarouselHeight() {
        // L·∫•y gi√° tr·ªã padding t·ª´ CSS ƒë√£ t√≠nh to√°n box-sizing
        const computedStyle = getComputedStyle(carousel);
        // ƒê·∫£m b·∫£o l·∫•y c·∫£ padding top v√† padding bottom
        const paddingTop = parseFloat(computedStyle.paddingTop);
        const paddingBottom = parseFloat(computedStyle.paddingBottom);
        const paddingOffset = paddingTop + paddingBottom; // T·ªïng padding d·ªçc

        const currentImage = carouselItems[currentIndex].querySelector('img');
        // Chi·ªÅu r·ªông kh·∫£ d·ª•ng cho n·ªôi dung ·∫£nh b√™n trong padding c·ªßa .image-carousel
        const innerContentWidth = carousel.clientWidth - parseFloat(computedStyle.paddingLeft) - parseFloat(computedStyle.paddingRight);

        let desiredInnerHeight = 0; // Chi·ªÅu cao mong mu·ªën cho ph·∫ßn n·ªôi dung b√™n trong (carousel-inner)

        if (currentImage && currentImage.naturalWidth && currentImage.naturalHeight) {
            const imageAspectRatio = currentImage.naturalWidth / currentImage.naturalHeight; // T·ª∑ l·ªá r·ªông/cao c·ªßa ·∫£nh
            
            // T√≠nh to√°n chi·ªÅu cao d·ª±a tr√™n vi·ªác ·∫£nh v·ª´a v·∫∑n v·ªõi chi·ªÅu r·ªông kh·∫£ d·ª•ng c·ªßa carousel-inner
            let calculatedHeight = innerContentWidth / imageAspectRatio;

            // Gi·ªõi h·∫°n chi·ªÅu cao t·ªëi ƒëa c·ªßa carousel b·∫±ng 80% chi·ªÅu cao viewport
            // Tr·ª´ ƒëi paddingOffset ƒë·ªÉ t√≠nh chi·ªÅu cao th·ª±c cho ph·∫ßn n·ªôi dung b√™n trong
            const maxAllowedInnerHeight = window.innerHeight * 0.8 - paddingOffset;

            // Ch·ªçn chi·ªÅu cao nh·ªè h∆°n gi·ªØa chi·ªÅu cao t√≠nh to√°n v√† chi·ªÅu cao t·ªëi ƒëa cho ph√©p
            desiredInnerHeight = Math.min(calculatedHeight, maxAllowedInnerHeight);

            // N·∫øu ·∫£nh qu√° nh·ªè theo chi·ªÅu r·ªông, v√† chi·ªÅu cao t√≠nh to√°n qu√° b√©,
            // ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t m·ªôt chi·ªÅu cao t·ªëi thi·ªÉu ƒë·ªÉ carousel kh√¥ng b·ªã qu√° l√πn.
            // V√≠ d·ª•: t·ªëi thi·ªÉu l√† 150px ho·∫∑c 20% chi·ªÅu r·ªông c·ªßa container
            const minHeightThreshold = Math.max(150, innerContentWidth * 0.2); 
            desiredInnerHeight = Math.max(desiredInnerHeight, minHeightThreshold);

        } else {
            // Fallback n·∫øu ·∫£nh ch∆∞a t·∫£i ho·∫∑c l·ªói (t·ª∑ l·ªá 16:9)
            const fallbackAspectRatio = 16 / 9; // T·ª∑ l·ªá 16:9
            desiredInnerHeight = innerContentWidth / fallbackAspectRatio;
        }

        // ƒê·∫∑t chi·ªÅu cao cho carousel ngo√†i v√† c√°c l·ªõp ph·ªß
        // Chi·ªÅu cao c·ªßa carousel = chi·ªÅu cao n·ªôi dung mong mu·ªën + t·ªïng padding d·ªçc
        carousel.style.height = `${desiredInnerHeight + paddingOffset}px`;
        // ƒê·∫∑t chi·ªÅu cao cho c√°c l·ªõp ph·ªß b·∫±ng chi·ªÅu cao t·ªïng c·ªßa carousel ƒë·ªÉ ch√∫ng che ph·ªß ƒë√∫ng
        carouselFadeLeft.style.height = `${desiredInnerHeight + paddingOffset}px`;
        carouselFadeRight.style.height = `${desiredInnerHeight + paddingOffset}px`;
    }


    // T·∫°o c√°c d·∫•u ch·∫•m ch·ªâ th·ªã
    function createIndicatorDots() {
      carouselIndicatorsContainer.innerHTML = '';
      if (totalItems > 1) {
        for (let i = 0; i < totalItems; i++) {
          const dot = document.createElement('div');
          dot.classList.add('indicator-dot');
          dot.dataset.index = i;
          dot.addEventListener('click', () => {
            currentIndex = i;
            updateCarousel(true);
          });
          carouselIndicatorsContainer.appendChild(dot);
        }
        updateIndicatorDots();
      } else {
        hideFadeEffect();
      }
    }

    // C·∫≠p nh·∫≠t tr·∫°ng th√°i active c·ªßa d·∫•u ch·∫•m
    function updateIndicatorDots() {
      document.querySelectorAll('.indicator-dot').forEach((dot, index) => {
        if (index === currentIndex) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
    }

    // L·∫•y v·ªã tr√≠ X c·ªßa con tr·ªè/ng√≥n tay
    function getPositionX(event) {
      return event.type.includes('touch') ? event.touches[0].clientX : event.clientX;
    }

    // C·∫≠p nh·∫≠t v·ªã tr√≠ transform c·ªßa carousel
    function setSliderTransform() {
      carouselInner.style.transform = `translateX(${currentTranslate}px)`;
    }

    // C·∫≠p nh·∫≠t to√†n b·ªô tr·∫°ng th√°i carousel (v·ªã tr√≠ ·∫£nh, d·∫•u ch·∫•m, h·∫πn gi·ªù)
    function updateCarousel(isUserInteraction = false) {
      const itemWidth = carouselItems[0].offsetWidth; // L·∫•y chi·ªÅu r·ªông hi·ªán t·∫°i c·ªßa m·ªôt item
      currentTranslate = currentIndex * -itemWidth;

      setSliderTransform();
      updateIndicatorDots();
      adjustCarouselHeight(); // ƒêi·ªÅu ch·ªânh chi·ªÅu cao c·ªßa carousel

      resetAutoSlideTimer();
      if (isUserInteraction) {
        resetIndicatorFadeTimer();
      }
    }

    // Di chuy·ªÉn slide theo h∆∞·ªõng (1 cho ti·∫øp theo, -1 cho tr∆∞·ªõc ƒë√≥)
    function moveSlide(direction) {
      currentIndex = (currentIndex + direction + totalItems) % totalItems;
      updateCarousel(false);
    }

    // B·∫Øt ƒë·∫ßu ch·∫ø ƒë·ªô t·ª± ƒë·ªông ch·∫°y slide
    function startAutoSlide() {
      if (autoSlideInterval) {
        clearInterval(autoSlideInterval);
      }
      if (totalItems > 1) {
        autoSlideInterval = setInterval(() => {
          moveSlide(1);
        }, slideDuration);
      }
    }

    // D·ª´ng ch·∫ø ƒë·ªô t·ª± ƒë·ªông ch·∫°y slide
    function stopAutoSlide() {
      if (autoSlideInterval) {
        clearInterval(autoSlideInterval);
        autoSlideInterval = null;
      }
    }

    // ƒê·∫∑t l·∫°i b·ªô h·∫πn gi·ªù t·ª± ƒë·ªông ch·∫°y khi c√≥ t∆∞∆°ng t√°c
    function resetAutoSlideTimer() {
      stopAutoSlide();
      clearTimeout(inactivityTimer);
      inactivityTimer = setTimeout(() => {
        startAutoSlide();
        showFadeEffect();
      }, indicatorFadeDelay);
    }

    // Reset timer hi·ªÉn th·ªã m≈©i t√™n h∆∞·ªõng d·∫´n
    function resetIndicatorFadeTimer() {
        clearTimeout(inactivityTimer);
        hideFadeEffect();
        if (totalItems > 1) {
            inactivityTimer = setTimeout(() => {
                showFadeEffect();
                startAutoSlide();
            }, indicatorFadeDelay);
        }
    }

    // Hi·ªÉn th·ªã l·ªõp ph·ªß h∆∞·ªõng d·∫´n
    function showFadeEffect() {
        if (totalItems > 1) {
            carouselFadeLeft.classList.add('active');
            carouselFadeRight.classList.add('active');
        }
    }

    // ·∫®n l·ªõp ph·ªß h∆∞·ªõng d·∫´n
    function hideFadeEffect() {
        carouselFadeLeft.classList.remove('active');
        carouselFadeRight.classList.remove('active');
    }

    // --- K√©o/Vu·ªët ·∫£nh ---
    carousel.addEventListener('mousedown', dragStart);
    carousel.addEventListener('mouseup', dragEnd);
    carousel.addEventListener('mouseleave', dragEnd);
    carousel.addEventListener('mousemove', drag);

    carousel.addEventListener('touchstart', dragStart);
    carousel.addEventListener('touchend', dragEnd);
    carousel.addEventListener('touchmove', drag);

    function dragStart(event) {
      carouselInner.style.transition = 'none';
      stopAutoSlide();
      hideFadeEffect();

      isDragging = true;
      startPos = getPositionX(event);
      prevTranslate = currentTranslate;

      if (event.type === 'mousedown') {
        event.preventDefault();
      }
      animationId = requestAnimationFrame(animation);
    }

    function animation() {
      setSliderTransform();
      if (isDragging) {
        requestAnimationFrame(animation);
      }
    }

    function drag(event) {
      if (!isDragging) return;

      const currentPosition = getPositionX(event);
      const diff = currentPosition - startPos;
      currentTranslate = prevTranslate + diff;
    }

    function dragEnd() {
      cancelAnimationFrame(animationId);
      isDragging = false;
      carouselInner.style.transition = 'transform 0.5s ease-in-out';

      const movedBy = currentTranslate - prevTranslate;
      const itemWidth = carouselItems[0].offsetWidth;

      if (movedBy < -itemWidth / 4) {
        currentIndex = (currentIndex + 1 + totalItems) % totalItems;
      } else if (movedBy > itemWidth / 4) {
        currentIndex = (currentIndex - 1 + totalItems) % totalItems;
      }

      updateCarousel(true);
    }

    // X·ª≠ l√Ω khi c·ª≠a s·ªï thay ƒë·ªïi k√≠ch th∆∞·ªõc
    window.addEventListener('resize', () => {
      carouselInner.style.transition = 'none';
      adjustCarouselHeight();
      updateCarousel(false);
      if (totalItems > 1) {
          resetIndicatorFadeTimer();
      } else {
          hideFadeEffect();
      }
    });

    // H√†m ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ ·∫£nh trong carousel ƒë√£ t·∫£i xong tr∆∞·ªõc khi t√≠nh to√°n t·ª∑ l·ªá khung h√¨nh
    function loadCarouselImages() {
        let loadedCount = 0;
        const totalCarouselImages = carouselImgs.length;

        if (totalCarouselImages === 0) {
            createIndicatorDots();
            updateCarousel(false);
            resetAutoSlideTimer();
            return;
        }

        carouselImgs.forEach(img => {
            if (img.complete) {
                loadedCount++;
            } else {
                img.addEventListener('load', () => {
                    loadedCount++;
                    if (loadedCount === totalCarouselImages) {
                        console.log("All carousel images loaded!");
                        createIndicatorDots();
                        updateCarousel(false);
                    }
                });
                img.addEventListener('error', () => {
                    loadedCount++;
                    console.error("Error loading carousel image:", img.src);
                    if (loadedCount === totalCarouselImages) {
                        console.log("Attempted to load all carousel images (some might have failed).");
                        createIndicatorDots();
                        updateCarousel(false);
                    }
                });
            }
        });

        if (loadedCount === totalCarouselImages) {
            console.log("All carousel images were already loaded!");
            createIndicatorDots();
            updateCarousel(false);
        }
    }


    document.addEventListener('DOMContentLoaded', () => {
      loadCarouselImages();
    });


    // --- Logic cho Video t·ª± ƒë·ªông ph√°t khi cu·ªôn ƒë·∫øn ---
    const videoElement = document.getElementById('backgroundVideo');

    const videoObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          videoElement.play().catch(error => {
            // console.error("Error attempting to play video:", error);
          });
        } else {
          videoElement.pause();
        }
      });
    }, {
      threshold: 0.5
    });

    // B·∫Øt ƒë·∫ßu quan s√°t video
    videoObserver.observe(videoElement);





// --- Logic cho Video t·ª± ƒë·ªông ph√°t khi cu·ªôn ƒë·∫øn (VIDEO TH·ª® HAI) ---
    const secondVideoElement = document.getElementById('secondVideo'); // Thay ƒë·ªïi ID n·∫øu b·∫°n ƒë·∫∑t kh√°c

    const secondVideoObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          secondVideoElement.play().catch(error => {
            // console.error("Error attempting to play second video:", error);
          });
        } else {
          secondVideoElement.pause();
        }
      });
    }, {
      threshold: 0.5 // K√≠ch ho·∫°t khi 50% video xu·∫•t hi·ªán trong khung nh√¨n
    });

    // B·∫Øt ƒë·∫ßu quan s√°t video th·ª© hai
    secondVideoObserver.observe(secondVideoElement);





// --- Logic cho Video t·ª± ƒë·ªông ph√°t khi cu·ªôn ƒë·∫øn (VIDEO TH·ª® BA) ---
    const thirdVideoElement = document.getElementById('thirdVideo'); // Thay ƒë·ªïi ID n·∫øu b·∫°n ƒë·∫∑t kh√°c

    const thirdVideoObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          thirdVideoElement.play().catch(error => {
            // console.error("Error attempting to play second video:", error);
          });
        } else {
          thirdVideoElement.pause();
        }
      });
    }, {
      threshold: 0.5 // K√≠ch ho·∫°t khi 50% video xu·∫•t hi·ªán trong khung nh√¨n
    });

    // B·∫Øt ƒë·∫ßu quan s√°t video th·ª© hai
    thirdVideoObserver.observe(thirdVideoElement);



    

    // --- Logic cho hi·ªáu ·ª©ng xu·∫•t hi·ªán ch·ªØ k√Ω ---
    const signatureBlock = document.querySelector('.signature-block');
    const signatureObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          signatureBlock.classList.add('visible');
          signatureObserver.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.2
    });

    signatureObserver.observe(signatureBlock);

    // --- Logic cho hi·ªáu ·ª©ng xu·∫•t hi·ªán ghi ch√∫ d·ªÖ th∆∞∆°ng ---
    const cuteNotesSection = document.querySelector('.notes-section-cute');
    const cuteNotesObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          cuteNotesSection.classList.add('visible');
          cuteNotesObserver.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.2
    });

    cuteNotesObserver.observe(cuteNotesSection);

    // --- Logic cho nh·∫°c n·ªÅn ---
    document.addEventListener('DOMContentLoaded', function() {
      const audio = document.getElementById('background-music');

      audio.play().catch(error => {
        // console.log("T·ª± ƒë·ªông ph√°t nh·∫°c b·ªã ch·∫∑n:", error);
        const musicToggleBtn = document.createElement('button');
        musicToggleBtn.textContent = 'üé∂ B·∫≠t/T·∫Øt Nh·∫°c üé∂';
        musicToggleBtn.style.position = 'fixed';
        musicToggleBtn.style.bottom = '20px';
        musicToggleBtn.style.left = '20px';
        musicToggleBtn.style.zIndex = '9999';
        musicToggleBtn.style.padding = '10px 15px';
        musicToggleBtn.style.backgroundColor = 'var(--vintage-accent)';
        musicToggleBtn.style.color = 'white';
        musicToggleBtn.style.border = 'none';
        musicToggleBtn.style.borderRadius = '5px';
        musicToggleBtn.style.cursor = 'pointer';
        musicToggleBtn.style.fontFamily = 'Playfair Display, serif';
        musicToggleBtn.style.boxShadow = '0 2px 5px rgba(0,0,0,0.2)';


        document.body.appendChild(musicToggleBtn);

        musicToggleBtn.addEventListener('click', () => {
          if (audio.paused) {
            audio.play();
            musicToggleBtn.textContent = 'üé∂ B·∫≠t/T·∫Øt Nh·∫°c üé∂';
          } else {
            audio.pause();
            musicToggleBtn.textContent = 'üîá B·∫≠t/T·∫Øt Nh·∫°c üîá';
          }
        });
      });
    });
  </script>
</body>

</html>